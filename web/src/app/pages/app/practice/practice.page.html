<div class="grid">
  <div class="card">
    <div class="card__header">
      <div class="card__title">Criar prova</div>
    </div>
    <div class="form">
      <div class="field">
        <label>Skills</label>
        <select class="select" multiple [formControl]="form.controls.skillIds">
          <option *ngFor="let s of skillsSig()" [value]="s.id">{{ s.name }}</option>
        </select>
        <div class="muted" *ngIf="loadingSkillsSig()">Carregando skills...</div>
      </div>

      <div class="row">
        <div class="field field--inline">
          <label>Somente não resolvidas</label>
          <input class="checkbox" type="checkbox" [formControl]="form.controls.onlyUnsolved" />
        </div>

        <div class="field field--inline">
          <label>Qtd. questões</label>
          <input class="input" type="number" min="1" [formControl]="form.controls.questionCount" />
        </div>
      </div>

      <div class="actions">
        <button class="btn btn--primary" type="button" [disabled]="creatingSig()" (click)="createExam()">
          {{ creatingSig() ? 'Criando...' : 'Criar prova' }}
        </button>
      </div>

      <div class="error" *ngIf="errorSig() as err">{{ err }}</div>
    </div>
  </div>

  <div class="card" *ngIf="examSig() as exam">
    <div class="card__header">
      <div class="card__title">Prova criada</div>
    </div>
    <div class="examHeader">
      <div>
        <div class="muted">Exam ID</div>
        <div class="mono">{{ exam.exam.id }}</div>
      </div>
      <button class="btn btn--primary" type="button" (click)="startExam()">Começar</button>
    </div>

    <hr class="hr" />

    <div class="questions">
      <div class="question" *ngFor="let q of exam.questions; index as i">
        <div class="question__left">
          <div class="muted">#{{ i + 1 }}</div>
          <div class="statement">{{ q.statement }}</div>
        </div>
        <button class="btn btn--secondary" type="button" (click)="openQuestion(q.id)">Abrir</button>
      </div>
    </div>
  </div>
</div>


