<div class="card">
  <div class="card__header">
    <div class="card__title">Histórico de provas</div>
  </div>

  <div *ngIf="errorSig() as err" class="error">{{ err }}</div>
  <div *ngIf="loadingSig()" class="muted">Carregando...</div>

  <table *ngIf="hasExams()" class="table">
    <thead>
      <tr>
        <th>Data</th>
        <th>Questões</th>
        <th>Corretas</th>
        <th>Incorretas</th>
        <th>Não respondidas</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of examsSig()">
        <td>{{ row.createdAt | date: 'short' }}</td>
        <td>{{ row.questionCount }}</td>
        <td><span class="tag tag--success">{{ row.correctCount }}</span></td>
        <td><span class="tag tag--danger">{{ row.incorrectCount }}</span></td>
        <td><span class="tag tag--secondary">{{ row.unansweredCount }}</span></td>
        <td class="actions">
          <button
            *ngIf="row.status === 'not_started'"
            class="btn btn--primary"
            type="button"
            [disabled]="actionLoadingIdSig() === row.id"
            (click)="start(row.id)"
          >
            Iniciar
          </button>

          <button
            *ngIf="row.status === 'in_progress'"
            class="btn btn--secondary"
            type="button"
            [disabled]="actionLoadingIdSig() === row.id"
            (click)="finish(row.id)"
          >
            Finalizar
          </button>

          <button
            *ngIf="row.status === 'finished'"
            class="btn btn--secondary"
            type="button"
            (click)="open(row.id)"
          >
            Ver
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loadingSig() && !hasExams()" class="empty">
    Nenhuma prova ainda.
  </div>
</div>


